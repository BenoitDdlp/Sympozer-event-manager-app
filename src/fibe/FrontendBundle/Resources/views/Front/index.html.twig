<!doctype html>
<html lang="en" ng-app="sympozerApp">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>Sympozer</title>

{% stylesheets 'bundles/frontend/app/css/bootstrap.min.css'
'bundles/frontend/app/css/bootstrap-theme.min.css'
'bundles/frontend/app/css/loading-bar.css'
'bundles/frontend/app/css/app.css'
'bundles/frontend/app/css/animations.css'
'bundles/frontend/app/css/leaflet.css'
'bundles/frontend/app/css/datetimepicker.css'
'bundles/frontend/app/css/select.css'
'bundles/frontend/app/css/select2.css'
'bundles/frontend/app/css/colorpicker.css'
'bundles/frontend/app/css/xeditable.css'
'bundles/frontend/app/css/bootstrap-tag.css'
'bundles/frontend/app/css/bootstrap-social.css'
output='css/compiled/vendors.css' %}
<link rel="stylesheet" href="{{ asset_url }}"/>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
{% endstylesheets %}


<!-- included vendors -->
{% javascripts 'bundles/frontend/vendors/jquery.min.js'
'bundles/frontend/vendors/angular.js'
'bundles/frontend/vendors/angular-resource.js'
'bundles/frontend/vendors/angular-translate.js'
'bundles/frontend/vendors/angular-route.js'
'bundles/frontend/vendors/angular-animate.min.js'
'bundles/frontend/vendors/bootstrap.min.js'
'bundles/frontend/vendors/angular-ui-router.min.js'
'bundles/frontend/vendors/select.js'
'bundles/frontend/vendors/angular-sanitize.js'
'bundles/frontend/vendors/draganddrop.js'
'bundles/frontend/vendors/loading-bar.js'
'bundles/frontend/vendors/angular-cached-resource.min.js'
'bundles/frontend/vendors/angular-cookies.js'
'bundles/frontend/vendors/moment.js'
'bundles/frontend/vendors/angular-leaflet-directive.min.js'
'bundles/frontend/vendors/createDialog.js'
'bundles/frontend/vendors/xeditable.js'
'bundles/frontend/vendors/angular-moment.js'
'bundles/frontend/vendors/loadingBarModule.js'
'bundles/frontend/vendors/datetimepicker.js'
'bundles/frontend/vendors/leaflet.js'
'bundles/frontend/vendors/ui-bootstrap-tpls-0.11.2.min.js'
'bundles/frontend/vendors/angular-ui-modal.js'
'bundles/frontend/vendors/angular-ui-transition.js'
'bundles/frontend/vendors/bootstrap-colopicker-module.js'
'bundles/frontend/vendors/bootstrap-colorpicker.js'
output='js/compiled/main.js' %}
<script src="{{ asset_url }}" type="text/javascript"></script>
{% endjavascripts %}

<!-- common client app assets -->
{% javascripts
'bundles/frontend/app/js/app.js'

'bundles/frontend/app/js/controllers/alert.ctrl.js'
'bundles/frontend/app/js/controllers/dashboard.ctrl.js'
'bundles/frontend/app/js/controllers/generic-dialog.ctrl.js'
'bundles/frontend/app/js/controllers/generic-modal.ctrl.js'
'bundles/frontend/app/js/controllers/main.ctrl.js'
'bundles/frontend/app/js/controllers/nav-left.ctrl.js'
'bundles/frontend/app/js/controllers/nav-right.ctrl.js'
'bundles/frontend/app/js/controllers/nav-top.ctrl.js'
'bundles/frontend/app/js/controllers/home.ctrl.js'

'bundles/frontend/app/js/routes.js'

'bundles/frontend/app/js/directives/entity-list-handler.drv.js'
'bundles/frontend/app/js/directives/filter.drv.js'
'bundles/frontend/app/js/directives/get-or-create.drv.js'
'bundles/frontend/app/js/directives/infinite-scroll.drv.js'
'bundles/frontend/app/js/directives/sympozer-autocomplete.drv.js'
'bundles/frontend/app/js/directives/no-image.drv.js'

'bundles/frontend/app/js/services/global-http-interceptor.fact.js'
'bundles/frontend/app/js/services/search.fact.js'
'bundles/frontend/app/js/services/template-loader.fact.js'


'bundles/frontend/app/js/filters/sympozer-checkmark.fltr.js'

'bundles/frontend/app/modules/contextualization/js/routes.js'
'bundles/frontend/app/modules/contextualization/js/controllers/context.ctrl.js'

'bundles/frontend/app/modules/organizations/js/routes.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-delete.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-edit.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-list.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/community/organizations-community-list.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-main.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-new.ctrl.js'
'bundles/frontend/app/modules/organizations/js/controllers/organizations-show.ctrl.js'
'bundles/frontend/app/modules/organizations/js/services/organizations.fact.js'


'bundles/frontend/app/modules/papers/js/routes.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-delete.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-edit.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-list.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/community/papers-community-list.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-main.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-new.ctrl.js'
'bundles/frontend/app/modules/papers/js/controllers/papers-show.ctrl.js'
'bundles/frontend/app/modules/papers/js/services/papers.fact.js'


'bundles/frontend/app/modules/topics/js/routes.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-delete.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-edit.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-list.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-main.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-new.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-show.ctrl.js'
'bundles/frontend/app/modules/topics/js/controllers/topics-list-by-event.ctrl.js'
'bundles/frontend/app/modules/topics/js/services/topics.fact.js'

'bundles/frontend/app/modules/categories/js/routes.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-delete.ctrl.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-edit.ctrl.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-list.ctrl.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-main.ctrl.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-new.ctrl.js'
'bundles/frontend/app/modules/categories/js/controllers/categories-show.ctrl.js'
'bundles/frontend/app/modules/categories/js/services/categories.fact.js'

'bundles/frontend/app/modules/persons/js/routes.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-delete.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/community/persons-community-list.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-edit.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-list.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-main.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-new.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-event-list.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-list-by-event.ctrl.js'
'bundles/frontend/app/modules/persons/js/controllers/persons-show.ctrl.js'
'bundles/frontend/app/modules/persons/js/services/persons.fact.js'

'bundles/frontend/app/modules/equipments/js/routes.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-delete.ctrl.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-edit.ctrl.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-list.ctrl.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-main.ctrl.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-new.ctrl.js'
'bundles/frontend/app/modules/equipments/js/controllers/equipments-show.ctrl.js'
'bundles/frontend/app/modules/equipments/js/services/equipments.fact.js'

'bundles/frontend/app/modules/locations/js/routes.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-delete.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-edit.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-list.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-main.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-new.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/locations-show.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/main-event-locations-new.ctrl.js'
'bundles/frontend/app/modules/locations/js/controllers/main-event-locations-edit.ctrl.js'
'bundles/frontend/app/modules/locations/js/services/locations.fact.js'
'bundles/frontend/app/modules/locations/js/services/main-event-locations.fact.js'

'bundles/frontend/app/modules/events/js/routes.js'
'bundles/frontend/app/modules/events/js/controllers/events-delete.ctrl.js'
'bundles/frontend/app/modules/events/js/controllers/events-edit.ctrl.js'
'bundles/frontend/app/modules/events/js/controllers/events-list.ctrl.js'
'bundles/frontend/app/modules/events/js/controllers/events-main.ctrl.js'
'bundles/frontend/app/modules/events/js/controllers/events-new.ctrl.js'
'bundles/frontend/app/modules/events/js/controllers/events-show.ctrl.js'
'bundles/frontend/app/modules/events/js/services/events.fact.js'

'bundles/frontend/app/modules/main-events/js/routes.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-delete.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-edit.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-list.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-main.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-new.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/main-events-show.ctrl.js'
'bundles/frontend/app/modules/main-events/js/controllers/community/main-events-community-list.ctrl.js'
'bundles/frontend/app/modules/main-events/js/services/main-events.fact.js'

'bundles/frontend/app/modules/roles/js/routes.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-delete.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-edit.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-list.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-main.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-new.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/roles/roles-show.ctrl.js'
'bundles/frontend/app/modules/roles/js/services/roles.fact.js'

'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-delete.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-edit.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-list.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-main.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-new.ctrl.js'
'bundles/frontend/app/modules/roles/js/controllers/role-labels/role-labels-show.ctrl.js'
'bundles/frontend/app/modules/roles/js/services/role-labels.fact.js'


'bundles/frontend/app/modules/authentication/js/routes.js'
'bundles/frontend/app/modules/authentication/js/controllers/change-pwd.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/confirm.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/global-auth.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/profile.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/reset-pwd.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/reset-pwd-request.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/sign-in.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/sign-out.ctrl.js'
'bundles/frontend/app/modules/authentication/js/controllers/sign-up.ctrl.js'
'bundles/frontend/app/modules/authentication/js/services/users.fact.js'


output='js/compiled/app.js' %}
<script src="{{ asset_url }}" type="text/javascript"></script>

<!-- <script src="{{ asset('bundles/frontend/app/js/animations.js') }}"></script> -->
{% if app.user %}
    <script>
        localStorage.setItem('currentUser', {{ user | json_encode | raw() }});
    </script>
{% endif %}

<!-- basic client app context definition -->
<script>
    //@TODO to put in serchService
    var queryNb = 0,
            firstQueryNb = 0
            ;

    var globalConfig = {
        api: {
            urls: {
                {#get_organizations: "{{ path('community_organization_post') }}",#}
                get_organization_versions: "{{ path('community_organization_versions_post') }}",

                get_persons: "{{ path('community_persons_post') }}",
                get_locations: "{{ path('content_event_locations_post') }}",
                get_mainEvent_locations: "{{ path('content_mainEvent_locations_post') }}",
                get_equipments: "{{ path('content_equipments_post') }}",
                get_events: "{{ path('schedule_events_post') }}",

                get_roles: "{{ path('content_roles_post') }}",
                get_roleLabel_verions: "{{ path('content_roleLabel_versions_post') }}",
                get_roleLabels: "{{ path('content_roleLabels_post') }}",

                get_papers: "{{ path('content_papers_post') }}",
                get_topics: "{{ path('content_topics_post') }}",
                get_categories: "{{ path('schedule_category_versions_post') }}",
                get_mainEvents: "{{ path('schedule_mainEvents_post') }}",
                login: "{{ path('login_check', {_format: 'json'}) }}",
                logout: "{{ path('logout') }}",
                registration: "{{ path('security_signup') }}",
                confirm: "{{ path('security_confirm') }}",
                changepwd: "{{ path('security_changepwd') }}",
                reset_pwd_request: "{{ path('security_resetpwdrequest') }}",
                reset_pwd: "{{ path('security_resetpwd') }}",
                socialnetworks:[
                    {% for owner in hwi_oauth_resource_owners() %}{% if loop.first %}{% else %},{% endif %}
                    {
                        name : "{{ owner }}",
                        urls: {
                            login: "{{ hwi_oauth_login_url(owner) }}",
                            enrich: "{{ path('enrich_account', { 'socialService': owner }) }}"
                        },
                        {# can't register with twitter as long as they chose to not return user's mail :( #}
                        can_register: {% if owner == 'twitter' %}false{% else %}true{% endif %}
                    }
                    {% endfor %}
                ]
            }
        },
        app: {
            options: {
                shouldLogin: {% if shouldLogin %}true{% else %}false{% endif %}
            },
            urls: {
                base: "{{ asset('bundles/frontend/app/') }}",
                partials: "{{ asset('bundles/frontend/app/partials/') }}",
                img: "{{ asset('bundles/frontend/app/img/') }}"
            },
            modules: {
                organizations: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/organizations/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/organizations/partials/') }}",
                        communityPartials: "{{ asset('bundles/frontend/app/modules/organizations/partials/community/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/organizations/img') }}"
                    }
                },
                locations: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/locations/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/locations/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/locations/img') }}"
                    }
                },
                equipments: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/equipments/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/equipments/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/equipments/img') }}"
                    }
                },
                events: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/events/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/events/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/events/img') }}"
                    }
                },
                papers: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/papers/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/papers/partials/') }}",
                        communityPartials: "{{ asset('bundles/frontend/app/modules/papers/partials/community/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/papers/img') }}"
                    }
                },
                categories: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/categories/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/categories/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/categories/img') }}"
                    }
                },
                mainEvents: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/main-events/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/main-events/partials/') }}",
                        partialsCommunity: "{{ asset('bundles/frontend/app/modules/main-events/partials/community/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/main-events/img') }}"
                    }
                },
                persons: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/persons/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/persons/partials/') }}",
                        communityPartials: "{{ asset('bundles/frontend/app/modules/persons/partials/community/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/persons/img') }}"
                    }
                },
                roles: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/roles/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/roles/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/roles/img') }}"
                    }
                },
                roleLabels: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/roles/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/roles/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/roles/img') }}"
                    }
                },
                topics: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/topics/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/topics/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/topics/img') }}"
                    }
                },
                authentication: {
                    urls: {
                        base: "{{ asset('bundles/frontend/app/modules/authentication/') }}",
                        partials: "{{ asset('bundles/frontend/app/modules/authentication/partials/') }}",
                        img: "{{ asset('bundles/frontend/app/modules/authentication/img') }}"
                    }
                }
            }
        },
        language: 'EN',
        severTime: "{{ 'now'|date('m/d/Y') }}"
    };
    angular.module('sympozerApp').value('GLOBAL_CONFIG', globalConfig);
</script>
{% endjavascripts %}
</head>

<!-- Main View -->
<body ng-controller="mainCtrl">

<div class="navTop" ng-include="GLOBAL_CONFIG.app.urls.partials+'layout/nav-top.html'"
     ng-controller="navTopCtrl">
</div>

<div id="alertBox" ng-include="GLOBAL_CONFIG.app.urls.partials+'layout/alert-box.html'"
     ng-controller="alertCtrl"></div>

<div id="wrapper">

    <div class="navLeft" ng-include="GLOBAL_CONFIG.app.urls.partials+'layout/nav-left.html'"
         ng-controller="navLeftCtrl"></div>

    <!-- Page content -->
    <div id="page-content-wrapper">

        <div class="page-content inset view-container">

            <div class="row view-frame" ng-class="view-frame" data-ng-view="">
            </div>

        </div>
        <div id="scrollTopBtn">
            <button class="btn btn-default" ng-click="scrollTop()" role="button"><i class="fa  fa-arrows-v fa-3x"></i>
            </button>
        </div>
    </div>

</div>
<div ng-controller="contextCtrl"></div>


</body>

</html>
